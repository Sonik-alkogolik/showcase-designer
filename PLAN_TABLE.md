# –ü–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞: showcase-designer
| –ë–ª–æ–∫                         | –ó–∞–¥–∞—á–∞ (–ø—Ä–æ–º—Ç)                                                                                                                               | –°—Ç–∞—Ç—É—Å       |
|------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|--------------|
| –Ø–¥—Ä–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | –°–æ–∑–¥–∞–π –±–∞–∑–æ–≤—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ Laravel 12: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥. –ò—Å–ø–æ–ª—å–∑—É–π laravel/breeze —Å API-—Ä–µ–∂–∏–º–æ–º (Sanctum). –ù–∞—Å—Ç—Ä–æ–π –º–∞—Ä—à—Ä—É—Ç—ã /api/register, /api/login. –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ–∫–µ–Ω. –°–æ—Ö—Ä–∞–Ω–∏ —Ç–æ–∫–µ–Ω –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (Vue 3) –≤ localStorage. <br><br>**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: <ul><li>–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `laravel/breeze` —Å —Ñ–ª–∞–≥–æ–º `--api`</li><li>–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ Sanctum, —Ç–∞–±–ª–∏—Ü–∞ `personal_access_tokens` —Å–æ–∑–¥–∞–Ω–∞ –≤—Ä—É—á–Ω—É—é (–º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–ø—É—â–µ–Ω–∞)</li><li>–í `routes/api.php` –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã: `POST /register`, `POST /login`, `POST /logout`</li><li>–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã: `RegisteredUserController@store`, `AuthenticatedSessionController@store/destroy`</li><li>–ú–æ–¥–µ–ª—å `User` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `HasApiTokens`</li><li>–§—Ä–æ–Ω—Ç–µ–Ω–¥: —Å–æ–∑–¥–∞–Ω `useAuth.js` (composable), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–∫–µ–Ω –≤ `localStorage`, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `Authorization: Bearer ...`</li><li>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `LoginView.vue`, `RegisterView.vue`</li><li>Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω: `/` ‚Üí `index.html` (SPA), `/api/*` ‚Üí Laravel</li><li>Production-—Å–±–æ—Ä–∫–∞ Vue —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ `public/`</li></ul> | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ |

–Ø–¥—Ä–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | –†–µ–∞–ª–∏–∑—É–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ —á–µ—Ä–µ–∑ Telegram –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ (telegram_verification_code), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞—ë—Ç –±–æ—Ç—É. –ó–∞–±–ª–æ–∫–∏—Ä—É–π –¥–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–∞–º –¥–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ telegram_verified_at. –û—Ç–∫–ª—é—á–∏ email-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é.| ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ |

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü—É users: telegram_id (BIGINT, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π), telegram_username, telegram_verification_code (VARCHAR(6)), telegram_verified_at (TIMESTAMP)
–°–æ–∑–¥–∞–Ω–æ –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ middleware EnsureTelegramVerified –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
–û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å User: –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã isTelegramVerified() –∏ markTelegramAsVerified(), –ø–æ–ª—è –≤ $fillable –∏ $hidden
–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä RegisteredUserController@store –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 6-–∑–Ω–∞—á–Ω—ã–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–¥ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –≤–º–µ—Å—Ç–µ —Å —Ç–æ–∫–µ–Ω–æ–º
–í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç middleware ensure.telegram.verified
Email-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞ (–Ω–µ—Ç —Ç—Ä–µ–π—Ç–∞ MustVerifyEmail)
API-–º–∞—Ä—à—Ä—É—Ç /api/test-verification –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –ø–æ—Å–ª–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏


–Ø–¥—Ä–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | –ù–∞—Å—Ç—Ä–æ–π –º–µ–∂–¥–æ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (CORS) –¥–ª—è API. –†–∞–∑—Ä–µ—à–∏ –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–∞ –¥–æ–º–µ–Ω–µ https://ec-dn.ru:98. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ Authorization –∏ Content-Type —Ä–∞–∑—Ä–µ—à–µ–Ω—ã. –ù–∞—Å—Ç—Ä–æ–π Laravel Sanctum –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏ (API-—Ä–µ–∂–∏–º, –Ω–µ —Å–µ—Å—Å–∏–∏).



| –Ø–¥—Ä–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | –°–æ–∑–¥–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—ã–±–æ—Ä–∞ —Ç–∞—Ä–∏—Ñ–∞ (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥: Vue 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç). –î–æ–±–∞–≤—å –¥–≤–∞ —á–µ–∫–±–æ–∫—Å–∞: ¬´–°–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ‚Ä¶¬ª (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–æ–¥–ø–∏—Å–∫–∏ —Å –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º), ¬´–û–∑–Ω–∞–∫–æ–º–ª–µ–Ω —Å –æ—Ñ–µ—Ä—Ç–æ–π‚Ä¶¬ª. –°—Å—ã–ª–∫–∏: /offer –∏ /privacy. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –Ø–¥—Ä–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | –°–æ–∑–¥–∞–π –º–∏–≥—Ä–∞—Ü–∏—é –∏ –º–æ–¥–µ–ª—å Subscription: –ø–æ–ª—è user_id, plan (enum: 'starter', 'business', 'premium'), status (active/expired), expires_at, auto_renew (boolean). –°–≤—è–∂–∏ —Å User. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –Ø–¥—Ä–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | –†–µ–∞–ª–∏–∑—É–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä—É—á–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É MoonShine: —Å–æ–∑–¥–∞–π —Ä–µ—Å—É—Ä—Å SubscriptionResource, –¥–æ–±–∞–≤—å —Ñ–æ—Ä–º—É –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–∞—Ä–∏—Ñ–∞, —Å—Ä–æ–∫–∞ –∏ —Ñ–ª–∞–≥–∞ auto_renew. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –Ø–¥—Ä–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | –ù–∞—Å—Ç—Ä–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ Laravel: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–∞–≥–∞–∑–∏–Ω—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –Ω–µ–≥–æ –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞. –°–æ–∑–¥–∞–π middleware HasActiveSubscription. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ú–∞–≥–∞–∑–∏–Ω –∏ —Ç–æ–≤–∞—Ä—ã             | –°–æ–∑–¥–∞–π –º–æ–¥–µ–ª—å Shop: –ø–æ–ª—è user_id, name, bot_token (encrypted), notification_chat_id, delivery_name, delivery_price. –°–≤—è–∑—å: –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî –º–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–æ–≤. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ú–∞–≥–∞–∑–∏–Ω –∏ —Ç–æ–≤–∞—Ä—ã             | –û–≥—Ä–∞–Ω–∏—á—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –ø–æ —Ç–∞—Ä–∏—Ñ—É: Starter = 1, Business = 5, Premium = 10. –î–æ–±–∞–≤—å –º–µ—Ç–æ–¥ canCreateMoreShops() –≤ –º–æ–¥–µ–ª—å User. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ú–∞–≥–∞–∑–∏–Ω –∏ —Ç–æ–≤–∞—Ä—ã             | –°–æ–∑–¥–∞–π API-–º–∞—Ä—à—Ä—É—Ç /api/shops (POST): —Å–æ–∑–¥–∞—ë—Ç –º–∞–≥–∞–∑–∏–Ω, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç –∏ –ø–æ–¥–ø–∏—Å–∫—É. –í–µ—Ä–Ω–∏ –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –ª–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ú–∞–≥–∞–∑–∏–Ω –∏ —Ç–æ–≤–∞—Ä—ã             | –°–æ–∑–¥–∞–π –º–æ–¥–µ–ª—å Product: shop_id, name, price, description, category, in_stock (boolean). –î–æ–±–∞–≤—å –º–∏–≥—Ä–∞—Ü–∏—é. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ú–∞–≥–∞–∑–∏–Ω –∏ —Ç–æ–≤–∞—Ä—ã             | –ü–æ–¥–∫–ª—é—á–∏ –ø–∞–∫–µ—Ç maatwebsite/excel. –°–æ–∑–¥–∞–π –∏–º–ø–æ—Ä—Ç—ë—Ä ProductImport, –∫–æ—Ç–æ—Ä—ã–π –ø–∞—Ä—Å–∏—Ç CSV/XLSX —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –Ω–∞–ª–∏—á–∏–µ (1/0). | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ú–∞–≥–∞–∑–∏–Ω –∏ —Ç–æ–≤–∞—Ä—ã             | –†–µ–∞–ª–∏–∑—É–π API-–º–∞—Ä—à—Ä—É—Ç /api/shops/{shop}/import-products (POST, multipart/form-data). –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∞–π–ª, –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–º–ø–æ—Ä—Ç, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç —Ç–æ–≤–∞—Ä–æ–≤ (–ø–æ–∫–∞ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è ‚Äî –∑–∞–≥–ª—É—à–∫–∞). –í–∞–ª–∏–¥–∏—Ä—É–π —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ú–∞–≥–∞–∑–∏–Ω –∏ —Ç–æ–≤–∞—Ä—ã             | –î–æ–±–∞–≤—å –∑–∞—â–∏—Ç—É: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º–∏ –º–∞–≥–∞–∑–∏–Ω–∞–º–∏. –°–æ–∑–¥–∞–π policy ShopPolicy –∏ middleware OwnsShop. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| Telegram –∏ Web App           | –†–µ–∞–ª–∏–∑—É–π –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞: –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ bot_token –≤ –º–∞–≥–∞–∑–∏–Ω–µ ‚Äî –æ—Ç–ø—Ä–∞–≤—å GET-–∑–∞–ø—Ä–æ—Å –∫ https://api.telegram.org/bot{token}/getMe. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Äî –≤–µ—Ä–Ω–∏ 422. –•—Ä–∞–Ω–∏ —Ç–æ–∫–µ–Ω –≤ –ë–î —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º (–∏—Å–ø–æ–ª—å–∑—É–π Crypt::encryptString()). | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| Telegram –∏ Web App           | –ù–∞—Å—Ç—Ä–æ–π Nginx: –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ /app –¥–æ–ª–∂–Ω—ã –æ—Ç–¥–∞–≤–∞—Ç—å index.html –≤–∞—à–µ–≥–æ Vue-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (SPA fallback). –£–±–µ–¥–∏—Å—å, —á—Ç–æ https://ec-dn.ru/app?shop=123 –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Web App. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| Telegram –∏ Web App           | –°–æ–∑–¥–∞–π –±–∞–∑–æ–≤—ã–π Vue-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç WebApp.vue. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ ‚Äî —á–∏—Ç–∞–µ—Ç ?shop=id –∏–∑ URL, –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ /api/shops/{id}/public –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞. –ü–æ–¥–∫–ª—é—á–∏ window.Telegram.WebApp.ready(). | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| Telegram –∏ Web App           | –†–µ–∞–ª–∏–∑—É–π –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤: GET /api/shops/{shop}/products ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫. –í–æ Vue ‚Äî –æ—Ç–æ–±—Ä–∞–∑–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –∫–Ω–æ–ø–∫–∞ ¬´–í –∫–æ—Ä–∑–∏–Ω—É¬ª). | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| Telegram –∏ Web App           | –°–æ–∑–¥–∞–π –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –∫–æ—Ä–∑–∏–Ω—É (–≤ localStorage): –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞. –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚Äî –ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ UI. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| Telegram –∏ Web App           | –†–µ–∞–ª–∏–∑—É–π —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –≤–æ Vue: –ø–æ–ª—è –§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω, –≤—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ (–±–µ—Ä—ë—Ç—Å—è –∏–∑ shop.delivery_name –∏ shop.delivery_price). –ö–Ω–æ–ø–∫–∞ ¬´–û–ø–ª–∞—Ç–∏—Ç—å¬ª. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| Telegram –∏ Web App           | –°–æ–∑–¥–∞–π –º–æ–¥–µ–ª—å Order: shop_id, customer_name, phone, total, delivery_name, delivery_price, status (pending/paid/cancelled), yookassa_payment_id. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ü–ª–∞—Ç–µ–∂–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è        | –ü–æ–¥–∫–ª—é—á–∏ SDK –ÆKassa (yoomoney/yookassa-sdk-php). –°–æ–∑–¥–∞–π –∫–æ–Ω—Ñ–∏–≥: YOOKASSA_SHOP_ID, YOOKASSA_SECRET_KEY –≤ .env. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ü–ª–∞—Ç–µ–∂–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è        | –†–µ–∞–ª–∏–∑—É–π API-–º–∞—Ä—à—Ä—É—Ç /api/orders (POST): —Å–æ–∑–¥–∞—ë—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞–∫–∞–∑–∞, –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞—ë—Ç –ø–ª–∞—Ç—ë–∂ –≤ –ÆKassa (–º–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã ‚Äî bank_card). –í–µ—Ä–Ω–∏ confirmation_url –∫–ª–∏–µ–Ω—Ç—É. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ü–ª–∞—Ç–µ–∂–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è        | –í–æ Vue: –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è confirmation_url ‚Äî –≤—ã–∑–æ–≤–∏ Telegram.WebApp.openInvoice(url) (–∏–ª–∏ openLink, –µ—Å–ª–∏ –∏–Ω–≤–æ–π—Å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è). –ü–æ—Å–ª–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ ‚Äî –æ–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ü–ª–∞—Ç–µ–∂–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è        | –ù–∞—Å—Ç—Ä–æ–π –º–∞—Ä—à—Ä—É—Ç /webhooks/yookassa (POST). –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ –ø–æ–¥–ø–∏—Å—å, –æ–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–∞ paid, –µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ payment.succeeded. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ü–ª–∞—Ç–µ–∂–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è        | –†–µ–∞–ª–∏–∑—É–π –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–ª–∞–¥–µ–ª—å—Ü—É –º–∞–≥–∞–∑–∏–Ω–∞: –µ—Å–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –º–∞–≥–∞–∑–∏–Ω–∞ —É–∫–∞–∑–∞–Ω notification_chat_id ‚Äî –æ—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram Bot API (sendMessage). –¢–µ–∫—Å—Ç: ¬´–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ ‚Ññ{id} –æ—Ç {–§–ò–û}, —Å—É–º–º–∞: {total} ‚ÇΩ¬ª. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ü–ª–∞—Ç–µ–∂–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è        | –î–æ–±–∞–≤—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É: –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω notification_username (–Ω–∞–ø—Ä–∏–º–µ—Ä, @dimaivanov) ‚Äî –æ—Ç–ø—Ä–∞–≤—å –ª–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. –ò—Å–ø–æ–ª—å–∑—É–π getUpdates ‚Üí message.from.id –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ID (–∏–ª–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–π –µ–≥–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏). | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –ü–ª–∞—Ç–µ–∂–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è        | –†–µ–∞–ª–∏–∑—É–π –≤–µ–±—Ö—É–∫ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º: –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ ‚Äî –æ—Ç–ø—Ä–∞–≤—å POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ shop.webhook_url (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω) —Å JSON —Ç–µ–ª–∞ –∑–∞–∫–∞–∑–∞. –û–±–µ—Ä–Ω–∏ –≤ try/catch, –ª–æ–≥–∏—Ä—É–π –æ—à–∏–±–∫–∏. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫        | –°–æ–∑–¥–∞–π —Ñ–æ—Ä–º—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–∞–≥–∞–∑–∏–Ω–∞ (Vue + API): —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è, —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞, —Å–ø–æ—Å–æ–±–∞ –¥–æ—Å—Ç–∞–≤–∫–∏, webhook URL, —á–∞—Ç–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫        | –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Å–∫–≤–æ–∑–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π: 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email, 2. –í—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞ ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞, 3. –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤, 4. –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ ‚Üí –æ–ø–ª–∞—Ç–∞ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ. –ò—Å–ø—Ä–∞–≤—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫        | –ù–∞—Å—Ç—Ä–æ–π cron-–∑–∞–¥–∞—á—É: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π subscriptions.expires_at < now() ‚Üí –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π. –û—Ç–ø—Ä–∞–≤–ª—è–π email –∑–∞ 3 –¥–Ω—è –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫        | –î–æ–±–∞–≤—å –∑–∞—â–∏—Ç—É –æ—Ç CSRF –∏ rate-limiting –Ω–∞ –≤—Å–µ API-–º–∞—Ä—à—Ä—É—Ç—ã (–æ—Å–æ–±–µ–Ω–Ω–æ /login, /register, /webhooks). | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫        | –ù–∞—Å—Ç—Ä–æ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (Sentry –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ Log::error). –û—Å–æ–±–µ–Ω–Ω–æ ‚Äî –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤ –ÆKassa –∏ Telegram. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫        | –°–æ–∑–¥–∞–π –ø—Ä–æ—Å—Ç—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ –≤ @BotFather, –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Shop ID –∏ –∫–ª—é—á –≤ –ÆKassa, –ö–∞–∫ –∑–∞–≥—Ä—É–∑–∏—Ç—å CSV. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫        | –ó–∞–ø—É—Å—Ç–∏ MVP –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ (ec-dn.ru). –ü—Ä–æ–≤–µ—Ä—å SSL, CSP, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å .env. –û—Ç–∫—Ä–æ–π –¥–æ—Å—Ç—É–ø –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |

> üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –°—Ç–∞—Ç—É—Å "–í—ã–ø–æ–ª–Ω–µ–Ω–æ" (‚úÖ) ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –î–Ω—è 1. –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî "–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ" (‚è≥).
